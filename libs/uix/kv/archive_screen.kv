<archivescreen>

    name: "archive"
    FitImage:
        #source: 'images/rh.jpg'
        id: pic
        source: app.get_wall("today")
        size: self.width,self.height
    BoxLayout:
        orientation: "vertical"
        MDTopAppBar:
            #title: "Settings"
        #    height: app.mheight
            #left_action_items: [['chevron-left', lambda screen: app.change_screen('today','left'),'home']]


            MDTopAppBarLeadingButtonContainer:
    
                MDActionTopAppBarButton:
                    icon: "chevron-left"
                    on_release: app.today()
                    pos_hint:{"center_x": 0.5, "center_y": 0.5}
        MDBoxLayout:
            #orientation: 'horizontal'
            size_hint: 1,None
            height:dp(42)

            MDSegmentedButton:
                md_bg_color: self.theme_cls.onSecondaryColor
                #selected_color:
                MDSegmentedButtonItem:
                    id: date

                    on_press:(app.do_sort_all('date','archive'))

                    MDSegmentButtonLabel:
                        text: "Date"

                MDSegmentedButtonItem:
                    id: hours
                    on_press:app.do_sort_all('hours','archive')

                    MDSegmentButtonLabel:
                        text: "Hours"

                MDSegmentedButtonItem:

                    id: pay
                    on_press:
                        app.do_sort_all('pay','archive')

                    MDSegmentButtonLabel:
                        text: "Pay"
            
            MDButton:

                id: sall
                on_press:
                    app.do_sort_all('pay','archive')

                MDButtonIcon:
                    icon: "language-swift"



        MDBoxLayout:
            #orientation: 'horizontal'
            
            #height: app.mheight+10
            #width: 1000
            
            size_hint: 1,None
            height:dp(42)

            
            MDSegmentedButton:
                md_bg_color: self.theme_cls.onSecondaryColor
                radius:0
                MDSegmentedButtonItem:
                    text: 'Current'
                    id: Current

                    on_press:(app.do_trim_all('Current','archive'))
                    size_hint_x: .3
                    MDSegmentButtonLabel:
                        text:'Now'
                MDSegmentedButtonItem:
                    text: 'Next'
                    id: Next

                    on_press:(app.do_trim_all('Next','archive'))
                    size_hint_x: .3
                    MDSegmentButtonLabel:
                        text:">"
                MDSegmentedButtonItem:
                    text: 'Last'
                    id: Last

                    on_press:(app.do_trim_all('Last','archive'))
                    size_hint_x: .3
                    MDSegmentButtonLabel:
                        text:"<"
                MDSegmentedButtonItem:
                    text: 'All'
                    id: All

                    on_press:(app.do_trim_all('All','archive'))
                    size_hint_x: .5
                    MDSegmentButtonLabel:
                        text:"All"
                MDSegmentedButtonItem:
                    text: 'Custom'
                    id: Custom
                    size_hint_x: .6
                    on_press:
                        (app.show_date_picker())
                    MDSegmentButtonLabel:
                        text:"Custom"
        
        MDBoxLayout:
            orientation: 'horizontal'
            size_hint: 1,None
            height:dp(42)
            MDButton:
                text: 'All'
                id: dstart
                #size_hint: .5,None
                #height: app.mheight

                #md_bg_color: app.theme_cls.primary_light
                #padding:10
                #on_press:(app.show_date_picker())
                MDButtonText:
                    id: dstart
            MDButton:
                text: 'All'
                #size_hint: .5,None
                #height: app.mheight
                #md_bg_color: app.theme_cls.primary_light
                #padding:10
                #spacing:10,10
                MDButtonText:
                    id: dend
                #on_press:(app.show_date_picker())

        ScrollView:
            #id: history_view

         
            MDList:
                spacing: app.cspacing/2
                padding: app.cpadding/2,app.cpadding/2
                bg_color:app.theme_cls.primaryColor
                id: archive